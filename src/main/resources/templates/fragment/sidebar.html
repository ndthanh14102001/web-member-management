<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
    <head>
        <title>Usage Information</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
        <link href="https://getbootstrap.com/docs/5.3/assets/css/docs.css" rel="stylesheet"/>
        <link href="/css/sidebar.css" rel="stylesheet"/>

        <script src="https://kit.fontawesome.com/aee18697b0.js" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    </head>
    <body th:fragment="sidebar">
        <div >
            <!--Main Navigation-->
            <header>
                <!-- Sidebar -->
                <nav id="sidebarMenu" class="sidebar bg-white">
                    <div>
                        <div class="pt-4 ps-4 pe-4">
                            <div class="d-flex justify-content-between align-items-center">
                                <img src="https://mdbootstrap.com/img/Photos/Avatars/img%20(23).jpg" class="rounded-circle img-fluid mb-3" style="max-width: 50px;"/>
                                <a href="/signin" class=" text-dark">
                                    <i class="fa-solid fa-right-from-bracket"></i>
                                </a>
                            </div>
                            <h4 th:text="${#ctx.session.loggedInMember.getHoTen()}"></h4>
                            <p  th:text="${#ctx.session.loggedInMember.getEmail()}"></p>
                        </div>
                        <hr class="hr" />
                        <div class="list-group list-group-flush mx-3 ">
                            <a
                                href="#"
                                class="list-group-item list-group-item-action py-2 ripple "
                                id="statistical"
                                aria-current="true"
                                >
                                <i class="fa-solid fa-house"></i>
                                <span class="ms-1">Home</span>
                            </a>
                        </div>
                        <div class="list-group list-group-flush mx-3 ">
                            <a
                                href="/processing-status"
                                class="list-group-item list-group-item-action py-2 ripple "
                                id="processing-status"
                                aria-current="true"
                                >
                                <i class="fa-solid fa-house"></i>
                                <span class="ms-1">Trạng thái xử lý</span>
                            </a>
                        </div>
                        <div class="list-group list-group-flush mx-3 ">
                            <a
                                href="/borrowing-devices"
                                class="list-group-item list-group-item-action py-2 ripple "
                                id="borrowing-devices"
                                aria-current="true"
                                >
                                <i class="fa-solid fa-house"></i>
                                <span class="ms-1">Thiết bị đang mượn</span>
                            </a>
                        </div>
                        <div class="list-group list-group-flush mx-3 ">
                            <a
                                href="/booked-devices"
                                class="list-group-item list-group-item-action py-2 ripple "
                                id="booked-devices"
                                aria-current="true"
                                >
                                <i class="fa-solid fa-house"></i>
                                <span class="ms-1">Thiết bị đang đặt chỗ</span>
                            </a>
                        </div>
                        <div class="list-group list-group-flush mx-3 ">
                            <a href="/booking-device" class="list-group-item list-group-item-action py-2 ripple" id="booking-device">
                                <i class="fa-solid fa-calendar-days"></i><span class="ms-1">Đặt chỗ</span>
                            </a>

                        </div>
                    </div>
                </nav>
                <!-- Sidebar -->
            </header>
            <!--Main Navigation-->
        </div>
        <script>
            var url = window.location.pathname;

            var bookingDevice = document.getElementById("booking-device");
            var borrowingDevice = document.getElementById("borrowing-devices");
            var bookedDevice = document.getElementById("booked-devices");
            var processingStatus = document.getElementById("processing-status");
            console.log(url, bookingDevice, url.startsWith("booking-device"));

            if (url.startsWith("/booking-device")) {
                bookingDevice.classList.add("active");
            } else if (url.startsWith("/processing-status")) {
                processingStatus.classList.add("active");
            } else if (url.startsWith("/borrowing-devices")) {
                borrowingDevice.classList.add("active");
            } else if (url.startsWith("/booked-devices")) {
                bookedDevice.classList.add("active");
            }
        </script>
    </body>
</html>
