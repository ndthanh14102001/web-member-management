<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
    <link href="https://getbootstrap.com/docs/5.3/assets/css/docs.css" rel="stylesheet"/>
    <link href="/css/profile.css" rel="stylesheet"/>

</head>
<style></style>
<body>
    <div class="container">
        <div class="menu">
            <h2>Profile</h2>
            <ul>
                <li><a href="#" onclick="showViolationStatus()">Xem trạng thái vi phạm</a></li>
                <li><a href="#" onclick="showDeviceBooking()">Xem chỗ đặt thiết bị</a></li>
                <li><a href="#" onclick="showDevicesOnLoan()">Xem thiết bị đang mượn</a></li>
                <li><a href="#" onclick="changePassword()">Đổi mật khẩu</a></li>
                <li><a href="#">Đặt chỗ mượn thiết bị</a></li>
                <li><a href="#">Đăng xuất</a></li>
            </ul>
        </div>
        <div class="content" id="content">

        </div>
    </div>

    <script>
        function showViolationStatus() {
            document.getElementById("content").innerHTML = `
                <h2>Xem trạng thái vi phạm</h2>
                <table>
                    <thead>
                        <tr>
                            <th>Tên thành viên</th>
                            <th>Trạng thái xử lý</th>
                            <th>Ngày xử lý</th>
                            <th>Số điện thoại</th>
                            <th>Trạng thái xử lý</th>
                        </tr>
                    </thead>
                    <tbody>
                            <tr th:each="processingList : ${processingList}">
                                <td th:text="${member.hoTen}"></td>
                                <td th:text="${processing.hinhThucXL}"></td>
                                <td th:text="${processing.ngayXL}"></td>
                                <td th:text="${processing.soTien}"></td>
                                <td th:text="${processing.trangThaiXL}"></td>
                                <td class="amount" th:text="${processingList.SoTien != null && processingList.SoTien != 0 ? #strings.replace(#strings.replace(#numbers.formatCurrency(processingList.SoTien), '¤', 'VND'), ',00', '') : ''}"></td>
                                <td th:text="${processingList.TrangThaiXL == 1 ? 'Đã xử lý' : 'Chưa xử lý'}"></td>
                         </tr>
                    </tbody>
                </table>
            `;
        }

        function showDeviceBooking() {
            document.getElementById("content").innerHTML = `
                <h2>Xem chỗ đặt thiết bị</h2>
                <table>
                    <thead>
                        <tr>
                            <th>Mã thiết bị</th>
                            <th>Tên thiết bị</th>
                            <th>Thời gian đặt</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr th:each="usageInformation : ${usageInformationList}">
                            <td th:text="${usageInfomation.maTB}"></td>
                            <td th:text="${usageInfomation.maTB.tenTB}"></td>
                            <td th:text="${usageInfomation.tGVao}"></td>
                        </tr>
                        </tr>

                    </tbody>
                </table>
            `;
        }

        function showDevicesOnLoan() {
            document.getElementById("content").innerHTML = `
                <h2>Xem thiết bị đang mượn</h2>
                <table>
                    <thead>
                        <tr>
                            <th>Mã thiết bị</th>
                            <th>Tên thiết bị</th>
                            <th>Thời gian mượn</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr th:each="usageInformation : ${usageInformationList}">
                            <td th:text="${usageInfomation.maTB}"></td>
                            <td th:text="${usageInfomation.maTB.tenTB}"></td>
                            <td th:text="${usageInfomation.tGMuon}"></td>
                        </tr>

                    </tbody>
                </table>
            `;
        }

        function changePassword() {
            document.getElementById("content").innerHTML = `
                <h2>Đổi mật khẩu</h2>
                <form>
                    <label for="oldPassword">Mật khẩu cũ:</label><br>
                    <input type="password" id="oldPassword" name="oldPassword"><br><br>
                    <label for="newPassword">Mật khẩu mới:</label><br>
                    <input type="password" id="newPassword" name="newPassword"><br><br>
                    <input type="submit" value="Lưu">
                </form>
            `;
        }
    </script>
</body>
</html>
